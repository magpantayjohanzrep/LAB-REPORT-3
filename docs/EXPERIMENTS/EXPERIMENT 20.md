# EXPERIMENT 20 - Undersampling in software defined radio üìâ

# OVERVIEW üîç
- In the history of electronic communications, new technologies usually replace old ones, but Software Defined Radio (SDR) is changing the game by creating a flexible system that uses software to handle different modulation schemes instead of relying on specific hardware tuners. The main challenge with receiving high-frequency signals, like those used in cell phones (around 2.4GHz), is that the Nyquist Sample Rate suggests we would need an extremely fast Analog-to-Digital Converter operating at over 4.8GHz. However, since radio signals are "bandwidth limited" and don't contain frequency components near DC, we don't actually need to sample that fast. This experiment focuses on "undersampling," a technique that allows us to capture all the information in a signal using a sampling rate based on the signal's bandwidth rather than its highest frequency. A major advantage of this approach for SDR is that if the sampling frequency is chosen correctly, the process not only captures the signal but also demodulates it, allowing us to recover the original message with a simple low-pass filter.

# OBJECTIVES üìù
- The primary goal of this experiment is to demonstrate the principles of undersampling within the context of Software Defined Radio. First, I will use the Emona Telecoms-Trainer to generate a bandwidth-limited signal, specifically a DSBSC signal, to simulate a transmission. Once the signal is established, I will attempt to demodulate it and recover the original message solely by using undersampling, effectively performing direct down-conversion without intermediate stages. Finally, I will investigate the importance of synchronization by exploring how mismatches between the modulated carrier's bandwidth and the undersampling frequency affect the quality and fidelity of the recovered message.

# Material and Component Used ‚öôÔ∏è
- Emona Telecoms-Trainer 101 (plus power-pack)
- Dual Channel 20MHz Oscilloscope
- three Emona Telecoms-Trainer 101 oscilloscope leads
- assorted Emona Telecoms-Trainer 101 patch leads
- one set of headphones (stereo)

# SUMMARY OF FINDINGS AND RESULTS üî¨

# PART A - Setting up a bandwidth limitied signalüìå

![figure1](https://github.com/magpantayjohanzrep/LAB-REPORT-3/blob/b8898a51905dc67339e9e814b94c051560efd1cf/docs/images/EXPERIMENT%2020/Screenshot%202026-02-11%20194455.png)
![output](https://github.com/magpantayjohanzrep/LAB-REPORT-3/blob/b8898a51905dc67339e9e814b94c051560efd1cf/docs/images/EXPERIMENT%2020/622674656_1277555500858594_3896146649081659464_n.jpg)

- In this section of the experiment, we observed the output waveform generated by the multiplier module, which appeared on the oscilloscope as a Double Sideband Suppressed Carrier (DSBSC) signal. We noted that this signal was the result of mixing a 2kHz sine wave message with a 100kHz carrier frequency. We observed that the waveform consisted of a high-frequency carrier whose amplitude envelope varied over time. Specifically, we observed that the alternating halves of the envelope formed the shape of the original 2kHz message signal, indicating that amplitude modulation had occurred as expected.

# PART B - Direct down-conversion using undersamplingüìå

![figure3](https://github.com/magpantayjohanzrep/LAB-REPORT-3/blob/b8898a51905dc67339e9e814b94c051560efd1cf/docs/images/EXPERIMENT%2020/Screenshot%202026-02-11%20194509.png)
![output](https://github.com/magpantayjohanzrep/LAB-REPORT-3/blob/b8898a51905dc67339e9e814b94c051560efd1cf/docs/images/EXPERIMENT%2020/623465193_785407747254738_5486643842572837095_n.jpg)

- In this section, we observed the output waveform generated by the Dual Analog Switch, which was acting as a sample-and-hold circuit. We observed that the resulting undersampled DSBSC signal was not a smooth, continuous wave, but rather a discrete, stepped signal. We further observed that the shape of this signal closely resembled an inverted version of the original message signal, indicating that the sampling process was effectively capturing the message information even before final filtering.

# PART C - Synchronisationüìå

![figure6](https://github.com/magpantayjohanzrep/LAB-REPORT-3/blob/b8898a51905dc67339e9e814b94c051560efd1cf/docs/images/EXPERIMENT%2020/Screenshot%202026-02-11%20194523.png)
![output](https://github.com/magpantayjohanzrep/LAB-REPORT-3/blob/b8898a51905dc67339e9e814b94c051560efd1cf/docs/images/EXPERIMENT%2020/624357384_765799832743733_6246700256940790831_n.jpg)

- Upon viewing the output of the tuneable low-pass filter module shown in Figure 6, we observed a smooth, continuous sinusoidal waveform on the oscilloscope display. We observed that this signal was a clean reconstruction of the original 2kHz message signal, indicating that the filter successfully removed the stepped components created by the sampling process to recover the desired information.

# PART A TO C QUESTIONS üìù

Question 1: For the given inputs to the Multiplier module, what are the frequencies of the two sinewaves that make up the DSBSC signal?

**Given:**
    * Carrier Frequency ($f_c$) = 100 kHz
    * Message Frequency ($f_m$) = 2 kHz
  
**Calculation:**
    A DSBSC signal contains two sidebands at the sum and difference frequencies:
    * Lower Sideband (LSB): $100 \text{ kHz} - 2 \text{ kHz} = 98 \text{ kHz}$
    * Upper Sideband (USB): $100 \text{ kHz} + 2 \text{ kHz} = 102 \text{ kHz}$

- Answer: The two frequencies are **98 kHz** and **102 kHz**.

 Question 2: What's the bandwidth of the DSBSC signal?*

 **Calculation:**
    Bandwidth is the difference between the upper and lower frequency limits:
    * $BW = f_{USB} - f_{LSB}$
    * $BW = 102 \text{ kHz} - 98 \text{ kHz} = 4 \text{ kHz}$

- Answer: The bandwidth is **4 kHz**.

Question 3: What's the significance of the signal on the Baseband LPF's output?

- Answer: The signal at the output is the recovered original message signal (the 2 kHz sine wave), demonstrating that the demodulation process was successful.

 Question 4: Given the sampling frequency is 8.333kHz, which harmonic in the sampling signal is demodulating the DSBSC signal?
 
* **Given:**
    * Carrier Frequency ($f_c$) = 100 kHz
    * Sampling Frequency ($f_s$) = 8.333 kHz
* **Calculation:**
- Undersampling utilizes the harmonics of the sampling frequency to down-convert the signal. We find the harmonic number ($n$) by dividing the carrier by the sample rate:
    * $n = \frac{100 \text{ kHz}}{8.333 \text{ kHz}} \approx 12$

- Answer: The **12th harmonic** of the sampling signal is responsible for demodulating the DSBSC signal.

Question 5: Why doesn't this solve the problem and allow the demodulator to recover the message?

- Answer: Even though we manually adjusted the VCO to the correct sampling frequency (8.333 kHz), the demodulator still cannot perfectly recover the message because the VCO is **not phase-synchronized** with the transmitter's carrier. In undersampling (which acts as product detection), the sampling signal must be locked in both frequency and phase to the carrier. Since the VCO is a free-running oscillator independent of the transmitter, the phase relationship between them drifts constantly. This phase drift causes the amplitude of the recovered message to fluctuate (fade in and out), a phenomenon known as "beating," rendering the signal unstable.
